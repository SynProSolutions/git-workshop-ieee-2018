<!DOCTYPE html>
<html>
  <head>
    <title>Git Workshop für Einsteiger / SynPro Solutions @ IEEE Student Branch Graz / 24.01.2018</title>
    <meta charset="utf-8">
    <style>
      @font-face {
        font-family: 'Yanone Kaffeesatz';
        font-style: normal;
        font-weight: 400;
        src: local('Yanone Kaffeesatz Regular'), local('YanoneKaffeesatz-Regular'), url(fonts/yanonekaffeesatz-regular.ttf) format('truetype');
      }

      @font-face {
        font-family: 'Droid Serif';
        font-style: italic;
        font-weight: 400;
        src: local('Droid Serif Italic'), local('DroidSerif-Italic'), url(fonts/droid-serif-italic.ttf) format('truetype');
      }
      @font-face {
        font-family: 'Droid Serif';
        font-style: normal;
        font-weight: 400;
        src: local('Droid Serif Regular'), local('DroidSerif-Regular'), url(fonts/droid-serif-regular.ttf) format('truetype');
      }
      @font-face {
        font-family: 'Droid Serif';
        font-style: normal;
        font-weight: 700;
        src: local('Droid Serif Bold'), local('DroidSerif-Bold'), url(fonts/droid-serif-bold.ttf) format('truetype');
      }

      @font-face {
        font-family: 'Ubuntu Mono';
        font-style: italic;
        font-weight: 400;
        src: local('Ubuntu Mono Italic'), local('UbuntuMono-Italic'), url(fonts/ubuntu-mono-italic.ttf) format('truetype');
      }
      @font-face {
        font-family: 'Ubuntu Mono';
        font-style: normal;
        font-weight: 400;
        src: local('Ubuntu Mono'), local('UbuntuMono-Regular'), url(fonts/ubuntu-mono.ttf) format('truetype');
      }
      @font-face {
        font-family: 'Ubuntu Mono';
        font-style: normal;
        font-weight: 700;
        src: local('Ubuntu Mono Bold'), local('UbuntuMono-Bold'), url(fonts/ubuntu-mono-bold.ttf) format('truetype');
      }

      body {
        font-family: 'Droid Serif';
      }
      h1, h2, h3 {
        font-family: 'Yanone Kaffeesatz';
        font-weight: 400;
        margin-bottom: 0;
      }
      .remark-slide-content h1 { font-size: 3em; }
      .remark-slide-content h2 { font-size: 2em; }
      .remark-slide-content h3 { font-size: 1.6em; }
      .footnote {
        position: absolute;
        bottom: 3em;
      }
      li p { line-height: 1.25em; }
      .red { color: #fa0000; }
      .large { font-size: 2em; }
      a, a > code {
        color: rgb(249, 38, 114);
        text-decoration: none;
      }
      code {
        background: #e7e8e2;
        border-radius: 5px;
      }
      .remark-code, .remark-inline-code { font-family: 'Ubuntu Mono'; }
      .remark-code-line-highlighted     { background-color: #373832; }
      .pull-left {
        float: left;
        width: 47%;
      }
      .pull-right {
        float: right;
        width: 47%;
      }
      .pull-right ~ p {
        clear: both;
      }
      #slideshow .slide .content code {
        font-size: 0.8em;
      }
      #slideshow .slide .content pre code {
        font-size: 0.9em;
        padding: 15px;
      }
      .inverse {
        background: #272822;
        color: #777872;
        text-shadow: 0 0 20px #333;
      }
      .inverse h1, .inverse h2 {
        color: #f3f3f3;
        line-height: 0.8em;
      }

      /* Slide-specific styling */
      #slide-inverse .footnote {
        bottom: 12px;
        left: 20px;
      }
      #slide-how .slides {
        font-size: 0.9em;
        position: absolute;
        top:  151px;
        right: 140px;
      }
      #slide-how .slides h3 {
        margin-top: 0.2em;
      }
      #slide-how .slides .first, #slide-how .slides .second {
        padding: 1px 20px;
        height: 90px;
        width: 120px;
        -moz-box-shadow: 0 0 10px #777;
        -webkit-box-shadow: 0 0 10px #777;
        box-shadow: 0 0 10px #777;
      }
      #slide-how .slides .first {
        background: #fff;
        position: absolute;
        top: 20%;
        left: 20%;
        z-index: 1;
      }
      #slide-how .slides .second {
        position: relative;
        background: #fff;
        z-index: 0;
      }

      /* Two-column layout */
      .left-column {
        color: #777;
        width: 20%;
        height: 92%;
        float: left;
      }
        .left-column h2:last-of-type, .left-column h3:last-child {
          color: #000;
        }
      .right-column {
        width: 75%;
        float: right;
        padding-top: 1em;
      }

    </style>
  </head>
  <body>
    <textarea id="source">

class: center, middle

# Git Workshop für Einsteiger

.center[<a href="https://xkcd.com/1597/">![xckd git](includes/xkcd-git.png)</a>]

---

# Agenda für Workshop

<img alt="IEEE Student Branch Graz" src="includes/ieee_graz.png" style="float:right" />
IEEE Student Branch Graz / 24.01.2018

1. Vorstellungsrunde
2. Installation
3. Arbeiten mit Git
4. Zeit für Fragen

---

# Wer sind wir?

.center[<a href="https://synpro.solutions/">![SynPro Solutions](includes/synpro.png)</a>]

<table>
<tr><td><strong>Darshaka Pathirana:</strong></td><td>Git-User seit 2009</td></tr>
<tr><td><strong>Michael Prokop:</strong</td><td>Git-User seit 2006</td></tr>
</table>

Wir bieten Systemadministration und -integration für KMUs (Schwerpunkt Linux) an.
Heterogene Umgebungen gehören aber zu unserem Alltag.

Wir arbeiten mit Software. Software gehört versioniert.
Git verwenden wir täglich und ist für uns unverzichtbar.

---

# Vorstellungsrunde

* Wer hat schon einmal mit Versionskontrolle zu tun gehabt?
* Was weißt du zu Git bzw. was stellst du dir darunter vor?
* Warum willst du Git verwenden bzw. was erwartest du dir vom Workshop?

---

# Installation

* Mac OS
* Windows
* Linux

---

## Mac OS

Vielleicht ist Git bereits installiert?

```bash
% git version

bzw.

% mdfind -name git | grep bin
```

Schon installiert? Version *sollte* halbwegs aktuell sein.

Anmerkung: wir sind aktuell (Stand 2018-01-10) bei Git v2.15.1.

Optionen zur Installation:

1. X-Code
2. Natives Paket
3. Brew

---

## Mac OS #1: Git via X-Code

Wer X-Code hat, bekommt git mitgeliefert (`/usr/bin/git`):

```bash
% git version
git version 2.8.4 (Apple Git-73)
```

bzw.:

```bash
/Applications/Xcode.app/Contents/Developer/usr/bin/git --version
git version 2.8.4 (Apple Git-73)

/Library/Developer/CommandLineTools/usr/bin/git --version
git version 2.10.1 (Apple Git-78)
```

- Vorteil: vielleicht eh schon da ☻
- Nachteil: häufig veraltete Version, benötigt X-Code

---

## Mac OS #2: Git for Mac Installer

`dmg` von https://git-scm.com/download/mac runterladen.

Hinweis: unter 'Security &amp; Privacy' → 'Allow apps downloaded from' Installation erlauben

- **Vorteil:** benötigt sonst nichts Spezielles
- **Nachteil:** keine Paketmanager-Integration (z.B. für Updates)

---

## Mac OS #3: Git via Brew

```bash
% brew install git
```

Brew? Siehe https://docs.brew.sh/Installation.html:

```bash
% /usr/bin/ruby -e \
 "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"
```

- **Vorteil:** Paketmanager-Integration
- **Nachteil:** benötigt xcode bzw. xcode command line tools (`xcode-select --install`)

---

## Mac OS:

Falls Git installiert, `git` Befehl aber noch nicht verfügbar ist:

```bash
% export PATH="$PATH:/usr/local/bin/:/usr/local/git/bin"
```

In `~/.zshrc` bzw `~/.bash_profile` permanent machen.

---

## Windows #1: Git for Windows Installer

Installer-`exe` von https://git-scm.com/downloads/win runterladen.

Standard-Komponenten und Einstellungen behalten und installieren.

*Der Standard-Editor ist `vim`, man kann auch noch zwischen `Nano` und `Notepad++` wählen.*

- **Vorteil:** man kann die Installation anpassen
- **Nachteile:** keine Paktemanager-Integration (via chocolatey), viele Fragen (die man vielleicht nicht beantworten möchte / kann)

---

## Windows #2: Git via Chocolatey

```bash
> choco install -y git.install
```

Chocolatey?

> Chocolatey is a package manager for Windows (like apt-get or yum but for Windows).

Siehe: https://chocolatey.org/install

- **Vorteil:** Paketmanager-Intergration. Einfaches Upgrade durch `choco upgrade -y git.install`
- **Nachteile:** Anpassen der Installation nicht möglich (aber alles ist nachträglich konfigurierbar)

---

## Linux

Je nach Distribution:

```bash
% sudo apt install git           # Debian/Ubuntu/Mint/...
% sudo pacman -S git             # Archlinux
% sudo dnf install git           # neuere RHEL/CentOS/Fedora
% sudo yum install git           # ältere RHEL/CentOS/Fedora
% sudo emerge --ask dev-vcs/git  # Gentoo
…
```

---

# Arbeiten mit Git - was haben wir vor?

## Basis-Konfiguration

## Lokales Git-Repository

* Test-Projekt + Repository anlegen
* Erste Git-Kommandos (init, status, add, commit, log, show, diff, blame)

## Remote-Repository

* Advanced Git-Kommandos (clone, push, pull,...)
---

# Bevor es jetzt wirklich losgeht

* Git ist (eigentlich¹) *kein* Backup-Ersatz!
* Bitte alle wichtigen Daten sichern
* Wenn du Probleme hast, etwas zu schnell war oder unklar ist: bitte gleich melden! Das soll kein Frontalvortrag werden!

¹ Das wird jetzt zu ausufernd :)

---

# Git Basis-Konfiguration

Benutzername und Mailadresse zentral setzen:

```bash
% git config --global user.name "Susanne Musterfrau"
% git config --global user.email "nospam@tugraz.at"
```

Alternativ nur für das aktuelle Projekt:

```bash
% git config user.email "myname@company.example.org"
```

Konfiguration anzeigen:

```bash
% git config --list
% git config --list --global
```

Siehe auch "$HOME/.gitconfig" und (in einem Projekt) ".git/config"

---

# Test-Projekt erstellen

```bash
% mkdir my-project
% cd my-project
% $EDITOR README.md
```

```markdown
1  My Project
2  ==========
3
4  Lorem Ipsum is simply dummy text of the printing and typesetting industry.
5  Lorem Ipsum has been the industry's standard dummy text ever since the 1500s,
6  when an unkonwn(sic!) printer took a galley of type and scrambled it to make
7  a type specimen book.
```

Quelle: https://lipsum.com/ (plus Typo in Zeile 6 :))
---

# Lokales Repository anlegen

<pre><code class="plain hljs remark-code"><span class="hljs-string">% git init</span>
Initialized empty Git repository in /home/synpro/my-project/.git/
<span class="hljs-string">% git status</span>
On branch master

Initial commit

Untracked files:
  (use "git add &lt;file&gt;..." to include in what will be committed)

        README.md

nothing added to commit but untracked files present (use "git add" to track)
</code></pre>

---

# Datei dem Repository hinzufügen 1/3

<pre><code class="plain hljs remark-code"><span class="hljs-string">% git add README.md</span>
<span class="hljs-string">% git status</span>
On branch master

Initial commit

Changes to be committed:
  (use "git rm --cached <file>..." to unstage)

        new file:   README.md
<span class="hljs-string">%</span>
</code></pre>

---

# Datei dem Repository hinzufügen 2/3

```bash
Add initial version of README.md
# Please enter the commit message for your changes. Lines starting
# with '#' will be ignored, and an empty message aborts the commit.
# Explicit paths specified without -i or -o; assuming --only paths...
# On branch master
#
# Initial commit
#
# Changes to be committed:
#       new file:   README.md
#
# ------------------------ >8 ------------------------
# Do not touch the line above.
# Everything below will be removed.
diff --git a/README.md b/README.md
new file mode 100644
index 0000000..adcfe46
--- /dev/null
+++ b/README.md
[...]
```

**Wichtig**: <a href="https://chris.beams.io/posts/git-commit/">Aussagekräftige Commit-Messages</a> verwenden!

---

# Datei dem Repository hinzufügen 3/3

<pre><code class="plain hljs remark-code"><span class="hljs-string">% git commit -v README.md</span>
[master (root-commit) 63456c5] Add initial README.md
 1 file changed, 7 insertions(+)
 create mode 100644 README.md
<span class="hljs-string">% git status</span>
On branch master
nothing to commit, working tree clean
</code></pre>

*Anmerkung*: erst mit `git commit` ist die Datei dem (lokalen) Repository hinzugefügt!
---

# Historie - was wurde bisher gemacht?

<pre><code class="plain hljs remark-code"><span class="hljs-string">% git log</span>
commit 2cd795a5a670017ed75f53af086f2f8387625477
Author: Michael Prokop &lt;michael.prokop@synpro.solutions&gt;
Date:   Wed Jan 17 19:07:01 2018 +0100

    Add initial README.md
</code></pre>

*Tipp*: Ausgabe-Format lässt sich anpassen, z.B.:

<pre><code class="plain hljs remark-code hljs-string">% git log --oneline
% git log --stat
% git log --pretty="format:%h %s (%cr)"
</code></pre>

---

# Wie schaut der letzte Commit aus?

<pre><code class="plain hljs remark-code"><span class="hljs-string">% git show</span>
commit 2cd795a5a670017ed75f53af086f2f8387625477
Author: Michael Prokop &lt;michael.prokop@synpro.solutions&gt;
Date:   Wed Jan 17 19:07:01 2018 +0100

    Add initial README.md

diff --git a/README.md b/README.md
new file mode 100644
index 0000000..adcfe46
--- /dev/null
+++ b/README.md
@@ -0,0 +1,7 @@
+My Project
+==========
+
+Lorem Ipsum is simply dummy text of the printing and typesetting industry.
+Lorem Ipsum has been the industry's standard dummy text ever since the 1500s,
+when an unkonwn(sic!) printer took a galley of type and scrambled it to make
+a type specimen book.
</code></pre>

---

# Weiterarbeiten, Typo fixen!

<pre><code class="plain hljs remark-code"><span class="hljs-string">% $EDITOR README.md</span>
<span class="hljs-string">% git diff</span>
<strong>diff --git a/README.md b/README.md
index adcfe46..45f0920 100644
--- a/README.md
+++ b/README.md</strong>
<span style="color:#00e5ee">@@ -3,5 +3,5 @@</span> My Project

 Lorem Ipsum is simply dummy text of the printing and typesetting industry.
 Lorem Ipsum has been the industry's standard dummy text ever since the 1500s,
<span style="color:red">-when an unkonwn(sic!) printer took a galley of type and scrambled it to make</span>
<span style="color:#00AA00">+when an unknown printer took a galley of type and scrambled it to make</span>
 a type specimen book.
</code></pre>

*Anmerkung*: vor einem `commit` immer das `diff` anschauen

---

# Besseres diff (manchmal zumindest :))!

<pre><code class="plain hljs remark-code"><span class="hljs-string">% git diff --word-diff</span>
<strong>diff --git a/README.md b/README.md
index adcfe46..45f0920 100644
--- a/README.md
+++ b/README.md</strong>
<span style="color:#00e5ee">@@ -3,5 +3,5 @@</span> My Project

Lorem Ipsum is simply dummy text of the printing and typesetting industry.
Lorem Ipsum has been the industry's standard dummy text ever since the 1500s,
when an <span style="color:red">[-unkonwn(sic!)-]</span><span style="color:#0A0">{+unknown+}</span> printer took a galley of type and scrambled it to make
a type specimen book.
</code></pre>

---

# Wer hat wann was gemacht?

<pre><code class="plain hljs remark-code"><span class="hljs-string">% git blame README.md</span>
^2cd795a (Michael Prokop    2018-01-17 19:07:01 +0100 1) My Project
^2cd795a (Michael Prokop    2018-01-17 19:07:01 +0100 2) ==========
^2cd795a (Michael Prokop    2018-01-17 19:07:01 +0100 3)
^2cd795a (Michael Prokop    2018-01-17 19:07:01 +0100 4) Lorem Ipsum is simply dummy text of the printing and typesetting industry.
^2cd795a (Michael Prokop    2018-01-17 19:07:01 +0100 5) Lorem Ipsum has been the industry's standard dummy text ever since the 1500s,
00000000 (Not Committed Yet 2018-01-17 19:10:42 +0100 6) when an unknown printer took a galley of type and scrambled it to make
^2cd795a (Michael Prokop    2018-01-17 19:07:01 +0100 7) a type specimen book.
</code></pre>

---
# Remote Repository

* lässt sich für das Arbeiten an mehreren Standorten nutzen (Zuhause, Uni, Firma,...)
* damit können auch mehrere Leute gemeinsam an einem Projekt arbeiten (kein hin- und hermailen von Dateien mehr!)

---

<!-- <div style="text-align:center;position:absolute;width:80%;height:100%"> -->
<div style="text-align:center">
  <a href="http://geek-and-poke.com/?offset=1352247302000">
    <img src="includes/geek-and-poke_version-control.png" alt="Geek &amp; Poke Comic: Version control" style="width: 500px" />
  </a>
</div>

Quelle: http://geek-and-poke.com/?offset=1352247302000

---

## Remote Git Repositories / Git Hosting

Hosted Solutions:

* https://github.com/
* https://gitlab.com/
* https://bitbucket.org/
* https://git.tugraz.at/
* ...

Selbst hosten:

* http://gitolite.com/
* https://gitlab.com/
* https://gogs.io/ bzw. https://gitea.io/
* https://www.gerritcodereview.com/
* https://kallithea-scm.org/
* http://gitblit.com/
* ...

---

## Jeder holt sich jetzt einen Git Hosting Account

* https://github.com/join
* https://git.tugraz.at/
* ...

---

## Praxisübungen

* Repository "forken" bzw. neu anlegen, z.B.:
  * https://github.com/SynProSolutions/lorem-ipsum
* `git clone`
* `git pull`
* `git push`

---

## Git Remote Workflow

<div style="text-align:center">
  <a href="https://www.git-tower.com/learn/git/ebook/en/command-line/remote-repositories/introduction/">
    <img src="includes/basic-remote-workflow.png" alt="git remote workflow" style="width:500px" />
  </a>
</div>

<small>Quelle: <a href="https://www.git-tower.com/learn/content/01-git/01-ebook/en/01-command-line/04-remote-repositories/01-introduction/basic-remote-workflow.png">git-tower.com</a></small>

---

# Arbeiten mit LaTeX

* Datei `.gitignore` um Dateien zu ignorieren
* Beispielprojekt (siehe auch https://latex.tugraz.at/vorlagen/allgemein):
  * https://github.com/novoid/LaTeX-KOMA-template
* Entweder "forken":

```bash
% git clone https://github.com/$DEIN_USERNAME/LaTeX-KOMA-template
% cd LaTeX-KOMA-template
% make
```

* ... oder nur clonen:

```bash
% git clone https://github.com/novoid/LaTeX-KOMA-template
% cd LaTeX-KOMA-template
% make
```

???

TODO: warum wird "clone" hier mit "bash" syntax gehighlighted? Nur Frage beantworten, keine Änderung notwendig :)
ANSWER(Lukas): weil es so eingetragen ist :) sry, habe keine bessere Antwort. https://github.com/isagalaev/highlight.js/blob/master/src/languages/bash.js#L53

---
# Advanced Topics

* `branch`
* `merge`
* `tag`
* ...

---

# Side-Note: falls nur SSH verfügbar ist

* Typischerweise https (firewall-friendly, <a href="https://help.github.com/articles/caching-your-github-password-in-git/">credential.helper</a>) vs. ssh URLs (häufig bereits verfügbare Infrastruktur)
* Unterscheidung private vs. public Key

**Achtung**: Niemals private Key (`~/.ssh/id_rsa`) hergeben, immer nur den public Key (`~/.ssh/id_rsa.pub`)

SSH-Key erstellen:

```bash
% ssh-keygen
```

*Empfehlung*: Passwort für SSH-Key vergeben!

Shell-Integration (Linux + Windows):

```bash
% cat ~/.bash_profile # bzw. ~/.zlogin
eval $(ssh-agent)
ssh-add "$HOME/.ssh/id_rsa"
```

*Anmerkung*: typischerweise nur für Windows + Linux relevant,
Mac hat Keychain-Integration

---

# Shell-Prompt

Zum Beispiel <a href="https://grml.org/zsh/">grml-zshrc</a>:

.center[![grml-zshrc](includes/grml-zsh-prompt.png)</a>]

```bash
% test -r ~/.zshrc.local || \
  curl -L https://git.grml.org/f/grml-etc-core/etc/zsh/zshrc &gt; ~/.zshrc.local
```

oder <a href="https://github.com/powerline/powerline">powerline</a>
bzw. <a href="https://github.com/bhilburn/powerlevel9k/">powerlevel9k</a>:

```bash
% . /usr/share/powerline/bindings/zsh/powerline.zsh

$ . /usr/share/powerline/bindings/bash/powerline.sh
```

---

# Weiterführende Literatur

## Git

* Freies deutsches (Online-)Buch zu Git: http://gitbu.ch/
* Freies englisches (Online-)Buch zu Git: https://book.git-scm.com/book/
* Flight rules for Git: https://github.com/k88hudson/git-flight-rules
* Git Cheat Sheet: https://services.github.com/on-demand/downloads/github-git-cheat-sheet.pdf
* Dokumentation von Archlinux: https://wiki.archlinux.org/index.php/Git
* gittutorial man page: https://www.kernel.org/pub/software/scm/git/docs/gittutorial.html

## Git-Workflow

* https://www.atlassian.com/git/tutorials/comparing-workflows
* https://git-scm.com/book/en/v2/Distributed-Git-Distributed-Workflows

---

# Danke für die Aufmerksamkeit

Und wo gibt's diese Folien? Natürlich via Git:

```bash
% git clone https://gitlab.grml.info/synpro/git-workshop-ieee-2018.git
```

.center[<a href="https://synpro.solutions/">![SynPro Solutions](includes/synpro.png)</a>]
    </textarea>
    <script src="includes/remark.js">
    </script>
    <script>
      var slideshow = remark.create({
          highlightStyle: 'monokai',
          highlightLanguage: 'remark',
          highlightLines: true
        }) ;
    </script>
  </body>
</html>
